name: "Backup Sync to USB"
description: "Automatically copies Home Assistant backups to connected USB storage"
version: "0.2.9"
slug: "backup_sync"

arch:
  - aarch64
  - amd64

image: "ghcr.io/alekslegkih/backup_sync"

startup: application
boot: auto

url: "https://github.com/alekslegkih/hassio-addons-work"

privileged:
  - SYS_ADMIN
  - DAC_READ_SEARCH

devices:
  - /dev/sdb1
  - /dev/sdc1
  - /dev/sdd1
  - /dev/sde1
  - /dev/sdf1
  - /dev/sdb2
  - /dev/sdc2
  - /dev/sdd2
  - /dev/sde2
  - /dev/sdf2
  - /dev/sdb3
  - /dev/sdc3
  - /dev/sdd3
  - /dev/sde3
  - /dev/sdf3
  - /dev/sdb4
  - /dev/sdc4
  - /dev/sdd4
  - /dev/sde4
  - /dev/sdf4
  - /dev/nvme0
  - /dev/nvme1
  - /dev/nvme2
  - /dev/mmcblk0
  - /dev/mmcblk1
  - /dev/ttyUSB0
  - /dev/ttyUSB1
  - /dev/fuse

host_dbus: true
hassio_api: true
homeassistant_api: true
hassio_role: homeassistant

map:
  - backups:ro
  - addon_config:rw
  - media:rw

options:
  usb_device: ""
  mount_point: "baskups"
  max_copies: 5
  sync_exis_start: true
  notify_service: ""
  log_level: "info"

schema:
  usb_device: "str"
  mount_point: "str"
  max_copies: "int"
  sync_exis_start: "bool"
  notify_service: "str"
  log_level: list(off|fatal|error|warn|info|debug)
